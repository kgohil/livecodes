spec:
  name: livecodes
  services:
    - name: docker-compose
      git:
        branch: docker
        repo_clone_url: https://github.com/live-codes/livecodes
      build_command: chmod +x ./server/scripts/install_docker_ubuntu.sh && ./server/scripts/install_docker_ubuntu.sh
      run_command: docker compose up --build -d
      http_port: 443
      health_check:
        http_path: /
      instance_count: 1
      instance_size_slug: apps-s-1vcpu-1gb-fixed
      routes:
        - path: /
      envs:
        - key: HOST_NAME
        - key: PORT
          value: '443'
        - key: SELF_HOSTED_SHARE
          value: 'true'
        - key: SELF_HOSTED_BROADCAST
          value: 'true'
        - key: BROADCAST_PORT
          value: '3030'
        - key: BROADCAST_TOKENS
        - key: SANDBOX_HOST_NAME
        - key: SANDBOX_PORT
          value: '8090'
        - key: BROADCAST_PORT
          value: '3030'
        - key: FIREBASE_CONFIG
        - key: DOCS_BASE_URL
          value: 'null'
        - key: LOG_URL
          value: 'null'
